# Iaijutsu Strike Update Log

This log details the transformations performed on the original `Iaijutsu_Strike.js` script to convert it to the new modular format and to align it with the latest Foundry VTT API.

## General Transformations

*   The script was converted from a standalone script to a module with `create` and `play` functions.
*   The `token` and `target` variables, which were previously expected to be in the global scope, are now passed as `source` and `target` arguments to the `create` and `play` functions.
*   The configuration options at the top of the script are now passed as a `config` object.

## API Updates

The following API updates were made to align the script with the latest Foundry VTT API:

*   `target.data.name` was replaced with `target.name`.
*   `target.document.data.width` was replaced with `target.document.width`.
*   `warpgate.crosshairs.show` was replaced with `Sequencer.Crosshair.show`.
*   The `t` property in the crosshairs configuration was changed from `'line'` to `'ray'` to comply with the valid measured template types.
*   The deprecated `.from()` method was replaced with `.copySprite()`.

These changes ensure that the script is compatible with the latest version of Foundry VTT and follows the recommended API practices.

## Bug Fixes

*   Added a check to ensure that `canvas.scene.background.src` has a value before creating an effect that uses it. This prevents an error when the scene has no background image.
